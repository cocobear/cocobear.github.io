title: 找回误删的gnome
tags:
  - Gnome
  - Linux
id: 22
categories:
  - Linux
date: 2007-04-06 19:17:26
---

Thursday, 30\. November 2006, 13:50:02


    前天晚上由于一个误操作（应该是鼠标的问题吧，偶自己的鼠标在本本上不怎么灵活，用起来很不方便，不过拿到别人的台式机上就没有问题了，没办法只能将就着用吧），把Gnome桌面给删除了，本来是无意中在添加删除程序中看到一个"打印机支持"，留着没用就把它前面对勾给取消了，接下来又看了下别的有没有需要删除的东西，结果可能是手误把Gnome桌面前面的对勾也给点了，后来点应用的时候也没有注意，结果接来Gnome就被删除了，当我再重起的时候就进不了登录界面了。

    因为我用的是FC5所以不能直接从光盘启动，然后进行添加删除程序（个人觉得这一点不太好的，记得FC1以前是支持从光盘添加删除程序的，而现在FC5只能从网络添加删除）。

不过幸好宿舍现在能上网，于是我在进入grub后编辑启动信息，这一行：      

kernel /boot/vmlinuz-2.6.18-1.2200.fc5 ro root=LABEL=/ rhgb quiet

最后面加"single"这个命令，进入单用户模式。（记得要和"quiet"有空格的），启动后可以看到sh#的提示符，这时要是进行网络连接好象是不可以的，ifconfig等一些命令都不可以用的，应该是一些东西没有加载，输入"exit"，然后系统会继续启动加载一些东西（与进入图形界面完全一样，只是在命令行下进行，而且最终还是进入命令行）。

这次启动后以后，我使用root登录，然后用ifup CNC进行网络连接（我这边宿舍是网通的，要通过PPP拨号上网，我以前已经图形界面配置好的，名字为"CNC"),然后用：yum install gnome 命令来安装gnome桌面，因为删除的时候好多依赖的软件包也被删除了，所以要下载的东西很多，一共是132个软件包，109M大，大约下载了有1个小时的时间，然后是自动执行安装二十几分钟的样子，装完以后一个startx命令，呵呵熟悉的gnome又出现在屏幕上边了（激动啊！），进去以后所有的东西都没有变，包括以前的桌面主题，背景一些还在（呵呵，高兴ING），然后重启机子结果到了启动登录界面的时候又死了，想了一下原因是GDM登录界面还没有装gnome桌面环境没有包括GDM，于是再一次重起，在命令行下用yum install gdm安装，一个5.几M的安装包，一会儿就OK了，reboot，这次好了，直接进入登录界面，就是以前改过的gdm登录界面又被换回了gnome默认的样子，登录以后再改回我以前的gdm界面，一切OK！

PS：在进入命令行下面，没有gnome桌面环境的时候，我用了startx命令，结果还有x-windows的最基本的框架，挺有意思的一个界面，呵呵，可惜没有截个图保存下来。